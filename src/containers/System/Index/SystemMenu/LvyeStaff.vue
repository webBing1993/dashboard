<template>  <div>    <div class="module-wrapper">      <div class="top">        <span>旅业公司有权限员工</span>        <el-button type="success" @click.native="addLvyeStaff" class="button">添 加</el-button>      </div>      <table-lvyeStaff :list="lvyeStaffList" @del="delItem" @edit="editItem" :lvyeCoplist="lvyeCopNameList"></table-lvyeStaff>    </div>    <el-dialog title="添加旅业公司员工"               :visible.sync="showAddContent"               :close-on-click-modal="false"               :close-on-press-escape="false"               :show-close="true"               width=""               @close="handleClose"               center>      <div class="rec">        <div class="item-form">          <span class="itemTitle">用户ID</span>          <el-input v-model="userId" placeholder="请输入用户ID" class="input" :disabled="flag"></el-input>        </div>        <div class="item-form">          <span class="itemTitle">名称</span>          <el-input v-model="userName" placeholder="请输入用户名称" class="input"></el-input>        </div>        <div class="item-form">          <span class="itemTitle">手机号</span>          <el-input v-model="userMobile" placeholder="请输入用户手机号" class="input"></el-input>        </div>        <div class="item-form">          <span class="itemTitle">旅业公司</span>          <el-select class="el-right" v-model="lvyeCop" placeholder="请选择旅业公司">            <el-option              v-for="(obj, index) of lvyeCopNameList"              :key="obj.index"              :label="obj.name"              :value="obj.code">            </el-option>          </el-select>        </div>      </div>      <div slot="footer" class="dialog-footer">        <el-button @click="showAddContent=false">取 消</el-button>        <el-button type="primary" @click="save">保 存</el-button>      </div>    </el-dialog>  </div></template><script>    import {mapActions,mapState} from 'vuex'    export default {        components:{        },        data(){            return{                showAddContent:false,                userId:'',                userName:'',                userMobile:'',                lvyeCop:'',                enable:false,                lvyeCopNameList:[],                lvyeStaffList:[],                flag:true            }        },        methods:{            ...mapActions([                'goto',                'getLvyeStaffList',                'saveLvyeStaff',                'delLvyeStaff',                'getLvyeCopList',                'updateLvyeStaff'            ]),            addLvyeStaff(){                this.showAddContent=true;                this.flag=false;                this.userId='';                this.userName='';                this.userMobile='';                this.lvyeCop=''            },            handleClose(){            },            //保存列表            save(){                if(!this.flag){                    this.saveLvyeStaff({                        data:{                            "userid":this.userId,//人员ID                            "name":this.userName, //人员名称                            "mobile":this.userMobile,//手机号                            "lvyeCode":this.lvyeCop//旅业编码                        },                        onsuccess:body=>{                            this.getLvyeStaffLists()                            this.showAddContent=false;                        }                    });                }                else{                    this.updateLvyeStaff({                        data:{                            "userid":this.userId,//人员ID                            "name":this.userName, //人员名称                            "mobile":this.userMobile,//手机号                            "lvyeCode":this.lvyeCop//旅业编码                        },                        onsuccess:body=>{                            this.getLvyeStaffLists()                            this.showAddContent=false;                        }                    })                }            },            editItem(obj){                this.showAddContent=true;                this.flag=true;                this.userId=obj.userid;                this.userName=obj.name;                this.userMobile=obj.mobile;                this.lvyeCop=obj.lvyeCode            },            delItem(obj){                this.delLvyeStaff({                    userId:obj.userid,                    onsuccess:body=>{                        this.getLvyeStaffLists()                        this.showAddContent=false;                    }                })            },            //旅业员工列表            getLvyeStaffLists(){                this.getLvyeStaffList({                    onsuccess:body=>{                        this.lvyeStaffList=body.data                    }                })            },            //旅业公司列表            getlvyeCopNameLists(){                this.getLvyeCopList({                    onsuccess:body=>{                        this.lvyeCopNameList=body.data                    }                })            }        },        watch:{        },        computed:{            ...mapState([                'route',                'Interface'            ])        },        mounted(){            this.getLvyeStaffLists()            this.getlvyeCopNameLists()        }    }</script><style lang="less" scoped>    .module-wrapper{      padding: 1rem;      .top{        line-height: 3rem;        height: 3rem;        margin-bottom: 1rem;        span{          font-weight: bold;          font-size: 16px;        }      }      .el-button {        &.button {          float: right;          width: 12rem;        }      }      .el-dialog {        width: 65%;        .el-dialog__header {          padding: 0 20px;          border-bottom: solid 1px #979797;          .el-dialog__title {            line-height: 43px;            font-size: 16px;            font-weight: 400;            color: #4A4A4A;          }          .el-dialog__headerbtn {            padding-top: 12px;          }        }        .recCheckbox {          .el-checkbox {            margin-left: 0;            margin-right: 1.5rem;          }        }        .el-icon-search {          height: 85%;        }        .el-transfer-panel__filter {          padding: 0.2rem 1rem 1.1rem 1rem;          width: 100%;        }        .el-input__inner {          -webkit-appearance: none;          -moz-appearance: none;          appearance: none;          background-color: #fff;          background-image: none;          border-radius: 4px;          border: 1px solid #bfcbd9;          box-sizing: border-box;          color: #1f2d3d;          font-size: inherit;          height: 36px;        }        .el-dialog__body {          padding: 0 20px 33px;          .rec {            padding: 1rem 0;            font-size: 14px;            font-weight: 400;            color: #4A4A4A;            .departLine {              margin: 1rem 10rem 2rem 5.5rem;              border-top: 1px solid #dadada;            }            .item-form {              display: flex;              align-items: center;              margin-top: 10px;              margin-bottom: 10px;              .itemTitle {                display: inline-block;                min-width: 75px;              }              .el-select {                width: 80%;                .el-option {                  width: 80%;                }              }              .el-input {                width: 100%;              }              .el-switch {                margin-left: 16px;              }              .el-checkbox-group {                .el-checkbox__inner {                  display: inline-block;                  min-width: 0.2rem;                  min-height: 0.2rem;                }              }              .input {                width: 80%;              }              .text {                resize: none;                min-height: 100px;                padding: 0.5rem;                border-color: #a9bdd1;                width: 80%              }            }            .item_large {              display: flex;              align-items: center;              margin-bottom: 10px;              span {                min-width: 194px;                text-align: end;              }              .el-input {                width: 60%;              }            }            .item-tag2 {              display: flex;              align-items: center;              margin-bottom: 10px;              & > span {                display: inline-block;                min-width: 110px;                text-align: end;              }              .tag-input {                position: relative;                margin-left: 16px;                width: 70%;                .el-input {                  width: 100%;                  margin: 0 0 12px 0;                }                .tag-btn {                  position: absolute;                  bottom: 20px;                  right: -62px;                  button {                    border-radius: 50px;                    outline: none;                    border: solid 1px;                    margin-left: 5px;                    padding-bottom: 2px;                    background-color: #ffffff;                    height: 20px;                    width: 20px;                  }                }              }            }          }          .rec:not(:last-child) {            border-bottom: solid 1px #979797;;          }        }      }      .el-dialog__footer {        padding: 10px 20px 28px;        .dialog-footer {          text-align: center;          .el-button {            width: 246px;            border-radius: 0;            line-height: 18px;            margin: 0;            &:nth-child(1) {              margin-right: 22px;            }            &:nth-child(2) {              background-color: #39C240;              border-color: #39C240;              color: #ffffff;            }          }          .el-button--primary {            background-color: transparent;            border: solid 1px #979797;            color: #4A4A4A;          }        }      }    }</style>